<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>repository0-xn--intenton-z2a.com</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background-color: #f9f9f9; color: #333; }
    header { padding-bottom: 1em; border-bottom: 2px solid #ccc; margin-bottom: 1em; }
    h1 { font-size: 2em; }
    section { margin-bottom: 1.5em; }
    ul { list-style: none; padding: 0; }
    li { margin: 0.5em 0; }
    .label { font-weight: bold; }
    footer { margin-top: 2em; font-size: 0.9em; color: #777; }
    a { color: #0366d6; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>repository0-xn--intenton-z2a.com</h1>
    <p><a href="https://github.com/xn-intenton-z2a/repository0-xn--intenton-z2a.com">repository</a> - <a href="https://xn-intenton-z2a.github.io/repository0-xn--intenton-z2a.com/latest.html">latest stats</a> - <a href="https://xn-intenton-z2a.github.io/repository0-xn--intenton-z2a.com/all.html">all stats</a></p>
  </header>
  <section>
    <h1 class="md-github"><a class="md-github__anchor" name="intentïoncom-repository0-xn-intenton-z2acom" href="#intentïoncom-repository0-xn-intenton-z2acom"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>intentïon.com (repository0-xn-intenton-z2a.com)</h1>
<p class="md-github">The consumer front end of intentïon.com
featuring <a href="https://github.com/xn-intenton-z2a/repository0" class="md-github">repository0</a>
and the <a href="https://github.com/xn-intenton-z2a/repository0-xn--intenton-z2a.com" class="md-github">repository0-xn--intenton-z2a.com</a>.</p>
<p class="md-github"><code class="md-github">xn--intenton-z2a.com</code> is a project by Polycode Limited which presents the intentïon home page: https://xn--intenton-z2a.com/</p>
<h1 class="md-github"><a class="md-github__anchor" name="repository-variables" href="#repository-variables"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Repository variables</h1>
<table class="md-github">
<thead class="md-github">
<tr class="md-github">
<th class="md-github">Variable</th>
<th class="md-github">Description</th>
<th class="md-github">Level</th>
<th class="md-github">Type</th>
<th class="md-github">Example</th>
</tr>
</thead>
<tbody class="md-github">
<tr class="md-github">
<td class="md-github"><code class="md-github">CHATGPT_API_SECRET_KEY</code></td>
<td class="md-github">The OpenAI API key for the ChatGPT API.</td>
<td class="md-github">Repository</td>
<td class="md-github">Secret</td>
<td class="md-github"><code class="md-github">sk-01234-FAKE-012340000T3Bl...</code></td>
</tr>
<tr class="md-github">
<td class="md-github"><code class="md-github">CHATGPT_API_MODEL</code></td>
<td class="md-github">The OpenAI API model to use.</td>
<td class="md-github">Repository</td>
<td class="md-github">String</td>
<td class="md-github"><code class="md-github">o4-mini</code></td>
</tr>
<tr class="md-github">
<td class="md-github"><code class="md-github">AWS_HOSTED_ZONE_ID</code></td>
<td class="md-github">The AWS hosted zone ID for the domain.</td>
<td class="md-github">Repository</td>
<td class="md-github">String</td>
<td class="md-github"><code class="md-github">Z01234-FAKE-012340000</code></td>
</tr>
<tr class="md-github">
<td class="md-github"><code class="md-github">AWS_HOSTED_ZONE_NAME</code></td>
<td class="md-github">The AWS hosted zone name for the domain.</td>
<td class="md-github">Repository</td>
<td class="md-github">String</td>
<td class="md-github"><code class="md-github">my-fake-domaim.com</code></td>
</tr>
<tr class="md-github">
<td class="md-github"><code class="md-github">AWS_CERTIFICATE_ARN</code></td>
<td class="md-github">The AWS certificate ID for the domain.</td>
<td class="md-github">Environment</td>
<td class="md-github">String</td>
<td class="md-github"><code class="md-github">01234-FAKE-012340000</code></td>
</tr>
<tr class="md-github">
<td class="md-github"><code class="md-github">AWS_CLOUD_TRAIL_ENABLED</code></td>
<td class="md-github">Enable CloudTrail logging.</td>
<td class="md-github">Environment</td>
<td class="md-github">Boolean</td>
<td class="md-github"><code class="md-github">true</code></td>
</tr>
</tbody>
</table>
<h1 class="md-github"><a class="md-github__anchor" name="deployment" href="#deployment"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deployment</h1>
<h2 class="md-github"><a class="md-github__anchor" name="local-development-environment" href="#local-development-environment"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Development Environment</h2>
<h3 class="md-github"><a class="md-github__anchor" name="clone-the-repository" href="#clone-the-repository"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clone the Repository</h3>
<pre class="md-github"><code class="md-github language-bash">
git clone https://github.com/your-username/repository0-xn-intenton-z2a.com.git
cd repository0-xn-intenton-z2a.com
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="install-nodejs-dependencies-and-test" href="#install-nodejs-dependencies-and-test"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install Node.js dependencies and test</h3>
<pre class="md-github"><code class="md-github language-bash">
npm install
npm test
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="build-and-test-the-java-application" href="#build-and-test-the-java-application"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build and test the Java Application</h3>
<pre class="md-github"><code class="md-github language-bash">./mvnw clean package
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="synthesis-the-cdk" href="#synthesis-the-cdk"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synthesis the CDK</h3>
<pre class="md-github"><code class="md-github language-bash">npx cdk synth
</code></pre>
<h3 class="md-github"><a class="md-github__anchor" name="run-the-website-locally" href="#run-the-website-locally"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run the website locally</h3>
<pre class="md-github"><code class="md-github language-bash">http-server public/ --port 3000
</code></pre>
<p class="md-github">Webserver output:</p>
<pre class="md-github"><code class="md-github language-log">Starting up http-server, serving public/

http-server version: 14.1.1

http-server settings: 
CORS: disabled
Cache: 3600 seconds
Connection Timeout: 120 seconds
Directory Listings: visible
AutoIndex: visible
Serve GZIP Files: false
Serve Brotli Files: false
Default File Extension: none

Available on:
  http://127.0.0.1:3000
  http://192.168.1.121:3000
  http://10.14.0.2:3000
  http://169.254.59.96:3000
Hit CTRL-C to stop the server
</code></pre>
<p class="md-github">Access via http://127.0.0.1:3000 or install <a href="https://ngrok.com/" class="md-github">ngrok</a> and get a SSL terminated public URL:</p>
<pre class="md-github"><code class="md-github language-bash">ngrok http 3000
</code></pre>
<p class="md-github">ngrok runs:</p>
<pre class="md-github"><code class="md-github language-log">ngrok                                                                                                                                                                                                          (Ctrl+C to quit)
                                                                                                                                                                                                                               
🤖 Want to hang with ngrokkers on our new Discord? http://ngrok.com/discord                                                                                                                                                    
                                                                                                                                                                                                                               
Session Status                online                                                                                                                                                                                           
Account                       Antony @ Polycode (Plan: Free)                                                                                                                                                                   
Version                       3.22.1                                                                                                                                                                                           
Region                        Europe (eu)                                                                                                                                                                                      
Web Interface                 http://127.0.0.1:4040                                                                                                                                                                            
Forwarding                    https://d57b-146-70-103-222.ngrok-free.app -&gt; http://localhost:3000                                                                                                                              
                                                                                                                                                                                                                               
Connections                   ttl     opn     rt1     rt5     p50     p90                                                                                                                                                      
                              0       0       0.00    0.00    0.00    0.00                  
</code></pre>
<p class="md-github">Here you can open https://d57b-146-70-103-222.ngrok-free.app in a browser of your choice (you'll have your own URL
unless I am still running this one, I don't know when the id's roll so I might.)</p>
<h2 class="md-github"><a class="md-github__anchor" name="setup-for-aws-cdk" href="#setup-for-aws-cdk"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup for AWS CDK</h2>
<p class="md-github">You'll need to have run <code class="md-github">cdk bootstrap</code> to set up the environment for the CDK. This is a one-time setup per AWS account and region.
General administrative permissions are required to run this command. (NPM installed the CDK.)</p>
<p class="md-github">In this example for user <code class="md-github">antony-local-user</code> and <code class="md-github">repository0-xn--intenton-z2a.com-github-actions-role</code> we would add the following
trust policy so that they can assume the role: <code class="md-github">repository0-xn--intenton-z2a.com-deployment-role</code>:</p>
<pre class="md-github"><code class="md-github language-json">{
	&quot;Version&quot;: &quot;2012-10-17&quot;,
	&quot;Statement&quot;: [
		{
			&quot;Sid&quot;: &quot;Statement1&quot;,
			&quot;Effect&quot;: &quot;Allow&quot;,
			&quot;Action&quot;: [&quot;sts:AssumeRole&quot;, &quot;sts:TagSession&quot;],
			&quot;Resource&quot;: [&quot;arn:aws:iam::541134664601:role/repository0-xn--intenton-z2a.com-deployment-role&quot;]
		}
	]
}
</code></pre>
<p class="md-github">The <code class="md-github">repository0-xn--intenton-z2a.com-github-actions-role</code> also needs the following trust entity to allow GitHub Actions to assume the role:</p>
<pre class="md-github"><code class="md-github language-json">{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Principal&quot;: {
                &quot;Federated&quot;: &quot;arn:aws:iam::541134664601:oidc-provider/token.actions.githubusercontent.com&quot;
            },
            &quot;Action&quot;: &quot;sts:AssumeRoleWithWebIdentity&quot;,
            &quot;Condition&quot;: {
                &quot;StringEquals&quot;: {
                    &quot;token.actions.githubusercontent.com:aud&quot;: &quot;sts.amazonaws.com&quot;
                },
                &quot;StringLike&quot;: {
                    &quot;token.actions.githubusercontent.com:sub&quot;: &quot;repo:xn-intenton-z2a/s3-sqs-bridge:*&quot;
                }
            }
        }
    ]
}
</code></pre>
<p class="md-github">Create the IAM role with the necessary permissions to assume role from your authenticated user:</p>
<pre class="md-github"><code class="md-github language-bash">
cat &lt;&lt;'EOF' &gt; repository0-xn--intenton-z2a.com-deployment-trust-policy.json
{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;AWS&quot;: [
          &quot;arn:aws:iam::541134664601:user/antony-local-user&quot;,
          &quot;arn:aws:iam::541134664601:role/repository0-xn--intenton-z2a.com-github-actions-role&quot;
        ]
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;
    }
  ]
}
EOF
aws iam create-role \
  --role-name repository0-xn--intenton-z2a.com-deployment-role \
  --assume-role-policy-document file://repository0-xn--intenton-z2a.com-deployment-trust-policy.json
</code></pre>
<p class="md-github">Add the necessary permissions to deploy <code class="md-github">repository0-xn-intenton-z2a.com</code>:</p>
<pre class="md-github"><code class="md-github language-bash">
cat &lt;&lt;'EOF' &gt; repository0-xn--intenton-z2a.com-deployment-permissions-policy.json
{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;cloudformation:*&quot;,
        &quot;iam:*&quot;,
        &quot;s3:*&quot;,
        &quot;cloudtrail:*&quot;,
        &quot;logs:*&quot;,
        &quot;events:*&quot;,
        &quot;lambda:*&quot;,
        &quot;dynamodb:*&quot;,
        &quot;sqs:*&quot;,
        &quot;sts:AssumeRole&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    }
  ]
}
EOF
aws iam put-role-policy \
  --role-name repository0-xn--intenton-z2a.com-deployment-role \
  --policy-name repository0-xn--intenton-z2a.com-deployment-permissions-policy \
  --policy-document file://repository0-xn--intenton-z2a.com-deployment-permissions-policy.json
</code></pre>
<p class="md-github">Assume the deployment role:</p>
<pre class="md-github"><code class="md-github language-bash">
ROLE_ARN=&quot;arn:aws:iam::541134664601:role/repository0-xn--intenton-z2a.com-deployment-role&quot;
SESSION_NAME=&quot;repository0-xn--intenton-z2a.com-deployment-session-local&quot;
ASSUME_ROLE_OUTPUT=$(aws sts assume-role --role-arn &quot;$ROLE_ARN&quot; --role-session-name &quot;$SESSION_NAME&quot; --output json)
if [ $? -ne 0 ]; then
  echo &quot;Error: Failed to assume role.&quot;
  exit 1
fi
export AWS_ACCESS_KEY_ID=$(echo &quot;$ASSUME_ROLE_OUTPUT&quot; | jq -r '.Credentials.AccessKeyId')
export AWS_SECRET_ACCESS_KEY=$(echo &quot;$ASSUME_ROLE_OUTPUT&quot; | jq -r '.Credentials.SecretAccessKey')
export AWS_SESSION_TOKEN=$(echo &quot;$ASSUME_ROLE_OUTPUT&quot; | jq -r '.Credentials.SessionToken')
EXPIRATION=$(echo &quot;$ASSUME_ROLE_OUTPUT&quot; | jq -r '.Credentials.Expiration')
echo &quot;Assumed role successfully. Credentials valid until: $EXPIRATION&quot;
</code></pre>
<p class="md-github">Output:</p>
<pre class="md-github"><code class="md-github language-log">Assumed role successfully. Credentials valid until: 2025-03-25T02:27:18+00:00
</code></pre>
<p class="md-github">Check the session:</p>
<pre class="md-github"><code class="md-github language-bash">
aws sts get-caller-identity
</code></pre>
<p class="md-github">Output:</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;UserId&quot;: &quot;AROAX37RDWOM7ZHORNHKD:repository0-xn--intenton-z2a.com-deployment-session&quot;,
  &quot;Account&quot;: &quot;541134664601&quot;,
  &quot;Arn&quot;: &quot;arn:aws:sts::541134664601:assumed-role/repository0-xn--intenton-z2a.com-deployment-role/repository0-xn--intenton-z2a.com-deployment-session&quot;
}
</code></pre>
<p class="md-github">Check the permissions of the role:</p>
<pre class="md-github"><code class="md-github language-bash">
aws iam list-role-policies \
  --role-name repository0-xn--intenton-z2a.com-deployment-role
</code></pre>
<p class="md-github">Output (the policy we created above):</p>
<pre class="md-github"><code class="md-github language-json">{
  &quot;PolicyNames&quot;: [
    &quot;repository0-xn--intenton-z2a.com-deployment-permissions-policy&quot;
  ]
}
</code></pre>
<p class="md-github">An example of the GitHub Actions role being assumed in a GitHub Actions Workflow:</p>
<pre class="md-github"><code class="md-github language-yaml">      - name: Configure AWS Credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          role-to-assume: arn:aws:iam::541134664601:role/repository0-xn--intenton-z2a.com-deployment-role
          aws-region: eu-west-2
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'
      - run: npm install -g aws-cdk
      - run: aws s3 ls --region eu-west-2
</code></pre>
<h2 class="md-github"><a class="md-github__anchor" name="deployment-to-aws" href="#deployment-to-aws"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deployment to AWS</h2>
<p class="md-github">See also:</p>
<ul class="md-github">
<li class="md-github">local running using <a href="LOCALSTACK.md" class="md-github">Localstack</a>.</li>
<li class="md-github">Debugging notes for the AWS deployment here <a href="DEBUGGING.md" class="md-github">DEBUGGING</a>.</li>
</ul>
<p class="md-github">Package the CDK, deploy the CDK stack which rebuilds the Docker image, and deploy the AWS infrastructure:</p>
<pre class="md-github"><code class="md-github language-bash">
./mvnw clean package
</code></pre>
<p class="md-github">Maven build output:</p>
<pre class="md-github"><code class="md-github language-log">...truncated...
[INFO] Replacing original artifact with shaded artifact.
[INFO] Replacing /Users/antony/projects/repository0-xn--intenton-z2a.com/target/web-1.1.0.jar with /Users/antony/projects/repository0-xn--intenton-z2a.com/target/web-1.1.0-shaded.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15.522 s
[INFO] Finished at: 2025-05-14T03:16:19+02:00
[INFO] ------------------------------------------------------------------------
</code></pre>
<p class="md-github">Assume deployment role:</p>
<pre class="md-github"><code class="md-github language-bash">
. ./scripts/aws-assume-repository0-xn--intenton-z2a.com-deployment-role.sh                                     
</code></pre>
<p class="md-github">Output:</p>
<pre class="md-github"><code class="md-github language-log">Assumed arn:aws:iam::541134664601:role/repository0-xn--intenton-z2a.com-deployment-role successfully, expires: 2025-05-14T02:19:16+00:00. Identity is now:
{
&quot;UserId&quot;: &quot;AROAX37RDWOMSMQUIZOI4:repository0-xn--intenton-z2a.com-deployment-session-local&quot;,
&quot;Account&quot;: &quot;541134664601&quot;,
&quot;Arn&quot;: &quot;arn:aws:sts::541134664601:assumed-role/repository0-xn--intenton-z2a.com-deployment-role/repository0-xn--intenton-z2a.com-deployment-session-local&quot;
}
```~/projects/repository0-xn--intenton-z2a.com %
</code></pre>
<p class="md-github">Deploys the AWS infrastructure including an App Runner service, an SQS queue, Lambda functions, and a PostgresSQL table.</p>
<pre class="md-github"><code class="md-github language-bash">
npx cdk deploy
</code></pre>
<p class="md-github">Example output:</p>
<pre class="md-github"><code class="md-github language-log">WebStack | 4/8 | 3:20:29 AM | UPDATE_COMPLETE      | AWS::CloudFormation::Stack                      | WebStack 
[03:20:34] Stack WebStack has completed updating

 ✅  WebStack

✨  Deployment time: 46.85s

Outputs:
WebStack.ARecord = dev.web.xn--intenton-z2a.com
WebStack.AaaaRecord = dev.web.xn--intenton-z2a.com
WebStack.CertificateArn = arn:aws:acm:us-east-1:541134664601:certificate/73421403-bd8c-493c-888c-e3e08eec1c41
WebStack.DistributionAccessLogBucketArn = arn:aws:s3:::dev-web-intention-com-distribution-access-logs
WebStack.DistributionId = E24DIA1LSWOHYI
WebStack.HostedZoneId = Z09934692CHZL2KPE9Q9F
WebStack.OriginAccessLogBucketArn = arn:aws:s3:::dev-web-intention-com-origin-access-logs
WebStack.OriginBucketArn = arn:aws:s3:::dev-web-intention-com
WebStack.accessLogGroupRetentionPeriodDays = 30 (Source: CDK context.)
WebStack.certificateArn = 73421403-bd8c-493c-888c-e3e08eec1c41 (Source: CDK context.)
WebStack.cloudTrailEnabled = true (Source: CDK context.)
WebStack.cloudTrailEventSelectorPrefix = none (Source: CDK context.)
WebStack.cloudTrailLogGroupPrefix = /aws/s3/ (Source: CDK context.)
WebStack.cloudTrailLogGroupRetentionPeriodDays = 3 (Source: CDK context.)
WebStack.defaultDocumentAtOrigin = index.html (Source: CDK context.)
WebStack.docRootPath = public (Source: CDK context.)
WebStack.env = dev (Source: CDK context.)
WebStack.error404NotFoundAtDistribution = 404-error-distribution.html (Source: CDK context.)
WebStack.hostedZoneId = Z09934692CHZL2KPE9Q9F (Source: CDK context.)
WebStack.hostedZoneName = xn--intenton-z2a.com (Source: CDK context.)
WebStack.logGzippedS3ObjectEventHandlerSource = target/web-1.1.0.jar (Source: CDK context.)
WebStack.logS3ObjectEventHandlerSource = target/web-1.1.0.jar (Source: CDK context.)
WebStack.s3RetainBucket = false (Source: CDK context.)
WebStack.s3UseExistingBucket = false (Source: CDK context.)
WebStack.subDomainName = web (Source: CDK context.)
WebStack.useExistingCertificate = true (Source: CDK context.)
WebStack.useExistingHostedZone = true (Source: CDK context.)
Stack ARN:
arn:aws:cloudformation:eu-west-2:541134664601:stack/WebStack/b49af1d0-2f5e-11f0-a683-063fb0a54f1d

✨  Total time: 52.69s

</code></pre>
<p class="md-github">Destroy a previous stack and delete related log groups:</p>
<pre class="md-github"><code class="md-github language-bash">
npx cdk destroy
</code></pre>
<p class="md-github">Delete the log groups:</p>
<pre class="md-github"><code class="md-github language-bash">
aws logs delete-log-group \
  --log-group-name &quot;/aws/s3/s3-sqs-bridge-bucket&quot;
</code></pre>
<h1 class="md-github"><a class="md-github__anchor" name="prompts" href="#prompts"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prompts</h1>
<p class="md-github">Website brief:</p>
<pre class="md-github"><code class="md-github language-shell">I want a single index.html file that is well-formed, declares
and adheres to all the latest accessibility guidelines and is
responsively rendered on all mainstream devices.

The page should render the word intentïon when the screen is
tapped (or mouse moved) for 3 seconds then fade out.

The word intentïon should be in dark grey (charcoal?) and
as wide as the horizontal viewport. The background should be
light grey, almost white with a hint of yellow (like fog
under bright sunlight).

The background (full screen, no text) should have the
attached images all fading in and out of transparency at
different rates.

Please show the HTML (all inline JS and CSS) the images
and any libraries you pull in would be links.
</code></pre>
<h1 class="md-github"><a class="md-github__anchor" name="todo" href="#todo"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TODO</h1>
<p class="md-github">Public brand:</p>
<ul class="md-github md-github__task-list">
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Website for intentïon.com text light, light grey or misty: https://xn--intenton-z2a.com/</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Logo selection</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Sign up for LinkTree</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> CDK deploy</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Swap to use repository0 template.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> CI deployment</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Swap over to host live site from the CDK deployment by adding default environment 'ci' and the option of 'prod'.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Chat to interact with the projects</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Change AWS_CERTIFICATE_ARN to ARN</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Automated activity generation from showcased repositories</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Access links to experiments from the intention logo which appears by the hamburger menu.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> intentïon.com shows: past experiments: &lt;link to branch intentïon.md&gt;</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Move the activity log to the menu</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox" checked="true"> Add 1-2-3 to the website</li>
</ul>
<pre class="md-github"><code class="md-github">1. Create a GitHub repository from our template.
2. Save a mission statement for your project.
3. Watch and interact with the AI driven refinement and development until it’s done or reset and try-again.
</code></pre>
<ul class="md-github md-github__task-list">
<li class="md-github">[n] Create a repository from main via a button.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Create websites from archived branches and add these to ./public/ to showcase the projects.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Showcase completed projects, back off to something achievable and that's where I am.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Generate articles from the library - like feature generation - then use Markdown to HTML to generate the articles.</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Announce articles on socials</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Automated feed generation</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Publish feed generations to socials</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Add contact bots for socials</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Add contact bots via Slack / Discord or Redit</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Link to Linktree</li>
<li class="md-github md-github__task-item"><input type="checkbox" disabled="true" class="md-github__task-checkbox"> Audience Dashboard</li>
</ul>
<h1 class="md-github"><a class="md-github__anchor" name="ownership" href="#ownership"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ownership</h1>
<p class="md-github"><code class="md-github">xn--intenton-z2a.com</code> is a project by Polycode Limited which presents the intentïon home page: https://xn--intenton-z2a.com/</p>
<h2 class="md-github"><a class="md-github__anchor" name="license" href="#license"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p class="md-github">This project is licensed under the GNU General Public License (GPL). See <a href="LICENSE" class="md-github">LICENSE</a> for details.</p>
<p class="md-github">License notice:</p>
<pre class="md-github"><code class="md-github">repository0-xn--intenton-z2a.com
Copyright (C) 2025 Polycode Limited

repository0-xn--intenton-z2a.com is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License v3.0 (GPL‑3).
along with this program. If not, see &lt;https://www.gnu.org/licenses/&gt;.

IMPORTANT: Any derived work must include the following attribution:
&quot;This work is derived from https://github.com/xn-intenton-z2a/repository0-xn--intenton-z2a.com&quot;
</code></pre>
<p class="md-github"><em class="md-github">IMPORTANT</em>: The project README and any derived work should always include the following attribution:
<em class="md-github">&quot;This work is derived from https://github.com/xn-intenton-z2a/repository0-xn-intenton-z2a.com&quot;</em></p>
<h1 class="md-github"><a class="md-github__anchor" name="thank-you" href="#thank-you"><svg class="md-github__octicon md-github__octicon-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thank you</h1>
<p class="md-github">Thank you for your interest in intentïon. Please be careful with our public brand.</p>

  </section>
  <footer>
    <p>Generated on 2025-07-04T07:43:57.812Z</p>
  </footer>
</body>
</html>